hostname: bigbang.dev
istio:
  enabled: true

global:
  image:
    repository: registry1.dsop.io/ironbank/opensource/argoproj/argocd
    tag: v1.7.8
    imagePullPolicy: IfNotPresent
  imagePullSecrets:
  - name: private-registry
argo:
  controller:
    image:
      repository: registry1.dsop.io/ironbank/opensource/argoproj/argocd
    #   tag: v1.7.8
    # resources: 
    #   limits:
    #     cpu: 500m
    #     memory: 512Mi
    #   requests:
    #     cpu: 500m
    #     memory: 512Mi
    serviceMonitor:
      enabled: true
    metrics:
      enabled: true
      rules:
        enabled: false
        spec: 
        - alert: ArgoAppMissing
          expr: |
            absent(argocd_app_info)
          for: 15m
          labels:
            severity: critical
          annotations:
            summary: "[ArgoCD] No reported applications"
            description: >
              ArgoCD has not reported any applications data for the past 15 minutes which
              means that it must be down or not functioning properly.  This needs to be
              resolved for this cloud to continue to maintain state.
        - alert: ArgoAppNotSynced
          expr: |
            argocd_app_sync_status{sync_status!="Synced"} == 1
          for: 12h
          labels:
            severity: warning
          annotations:
            summary: "[{{`{{$labels.name}}`}}] Application not synchronized"
            description: >
              The application [{{`{{$labels.name}}`}} has not been synchronized for over
              12 hours which means that the state of this cloud has drifted away from the
              state inside Git.
  dex:
    image:
      repository: registry1.dsop.io/ironbank/opensource/dexidp/dex
      tag: v2.26.0
    # resources:
    #   limits:
    #     cpu: 50m
    #     memory: 64Mi
    #   requests:
    #     cpu: 50m
    #   memory: 64Mi
  redis:
    image:
      repository: registry1.dsop.io/ironbank/opensource/redis/redis5
      tag: 5.0.9
    # resources: 
    #   limits:
    #     cpu: 200m
    #     memory: 128Mi
    #   requests:
    #     cpu: 200m
    #     memory: 128Mi
  server:
    image:
      repository: registry1.dsop.io/ironbank/opensource/argoproj/argocd
      tag: v1.7.8
    # resources:
    #   limits:
    #     cpu: 200m
    #     memory: 128Mi
    #   requests:
    #     cpu: 200m
    #     memory: 128Mi
    extraArgs: 
    - --insecure
    metrics:
      enabled: true
      serviceMonitor:
        enabled: true
  repoServer:
    image:
      repository: registry1.dsop.io/ironbank/opensource/argoproj/argocd
      tag: v1.7.8
    # resources:
    #   limits:
    #     cpu: 50m
    #     memory: 128Mi
    #   requests:
    #     cpu: 50m
    #     memory: 128Mi
    metrics:
      enabled: true
      serviceMonitor:
        enabled: true
      